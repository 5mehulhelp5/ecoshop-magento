<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
		<tab id="magebees" translate="label" sortOrder="100">
            <label>Magebees</label>
        </tab>
        <section id="magebees_cachewarmer" translate="label" type="text" sortOrder="62116" showInDefault="1" showInWebsite="1" showInStore="1">
            <resource>Magebees_CacheWarmer::config</resource>
            <class>separator-top</class>
            <label>Full Page Cache Warmer</label>
            <tab>magebees</tab>
            <group id="general" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>Settings</label>
                <field id="enabled" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Enabled</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Select Yes for enable the extension.</comment>
                </field>
                <field id="queue_regenerate" translate="label comment" type="select" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Auto Generate Queue after Cache Flush</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <comment>Select Yes for automatically generate warmer queue after cache flush or clean from admin</comment>
                </field>
				<field id="auto_update" translate="label comment" type="select" sortOrder="30" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Auto Update warmer queue when product changes</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <comment>Adds product pages urls to the warmer queue if the product edit</comment>
                </field>
                
               
            </group>
            <group id="source_and_priority" translate="label" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
				<label>Queue Generation Source Settings</label>
				<field id="source" translate="label comment tooltip" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Queue Generation Source</label>
                    <source_model>Magebees\CacheWarmer\Model\Config\Source\QuerySource</source_model>
                    <frontend_model>Magebees\CacheWarmer\Block\Adminhtml\Form\Field\QuerySource</frontend_model>
                    <comment>Warmer Queue will be generated from selected source</comment>
                </field>
				<field id="page_types" translate="label tooltip" type="Magebees\CacheWarmer\Block\Adminhtml\Form\Field\PageType" sortOrder="35" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Pages and Priority</label>
                    <comment>You can remove a page type from warming up queue by removing the tick from a checkbox.Set page types to be warmed up first by drag and dropping it to the top of the list
                    </comment>
                    <backend_model>Magebees\CacheWarmer\Model\System\Config\Backend\PageType</backend_model>
                    <depends>
                        <field id="source" separator=",">0,5</field>
                    </depends>
                </field>
                <field id="file_path" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Queue Links File Path</label>
                    <depends>
                        <field id="source" separator=",">2,3,5</field>
                    </depends>
                    <comment><![CDATA[Please, set the relative path to the file on your server. <br/>Example: var/tmp/queue_links.txt]]></comment>
                </field>
                <field id="sitemap_path" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Sitemap XML File Path</label>
                    <depends>
                        <field id="source" separator=",">1,3</field>
                    </depends>
                    <comment><![CDATA[Please, set the relative path to the Sitemap XML file on your server. <br/>Example: sitemaps/sitemap.xml]]></comment>
                </field>
            </group>
            <group id="performance_settings" translate="label" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Performance Settings</label>
                <field id="generate_cron" translate="label comment " type="text" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Queue Generation Schedule</label>
                    <comment><![CDATA[Enter cron expression<br/>
                        <br/>
                        * * * * *<br/>
                        | | | | |<br/>
                        | | | | +---- Day of the Week   (range: 0-6, 1 standing for Monday)<br/>
                        | | | +------ Month of the Year (range: 1-12)<br/>
                        | | +-------- Day of the Month  (range: 1-31)<br/>
                        | +---------- Hour              (range: 0-23)<br/>
                        +------------ Minute            (range: 0-59)<br/>
                        Example: 0 */12 * * * - every twelve hours<br/>
                        <br/>
                        Read more about cron expressions - <a href="https://en.wikipedia.org/wiki/Cron">here</a>]]>
                    </comment>
                </field>
                <field id="max_queue_size" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Queue Max Size</label>
                    <comment>Set the maximum number of pages in the Warmer Queue</comment>
                </field>
                <field id="batch_size" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Batch Size</label>
                    <comment>Set number of urls to crawl in a single batch</comment>
                </field>
                <field id="process_cron" translate="label comment" type="text" sortOrder="40" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Warmer Schedule</label>
                    <comment><![CDATA[Enter cron expression<br/>
                        <br/>
                        * * * * *<br/>
                        | | | | |<br/>
                        | | | | +---- Day of the Week   (range: 0-6, 1 standing for Monday)<br/>
                        | | | +------ Month of the Year (range: 1-12)<br/>
                        | | +-------- Day of the Month  (range: 1-31)<br/>
                        | +---------- Hour              (range: 0-23)<br/>
                        +------------ Minute            (range: 0-59)<br/>
                        Example: */5 * * * * - every five minuts<br/>
                        <br/>
                        Read more about cron expressions - <a href="https://en.wikipedia.org/wiki/Cron">here</a>]]>
                    </comment>
                </field>
                <field id="delay" translate="label comment" type="text" sortOrder="50" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Delay between Requests</label>
                    <comment>Please make sure there is enough delay to keep the server load safe. Default value is: 300 (milliseconds)</comment>
                </field>
                <field id="log_size" translate="label comment" type="text" sortOrder="60" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Log Size</label>
                    <comment>Set the maximum number of lines in the log table</comment>
                </field>
            </group>
            <group id="combinations" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>Page Combinations</label>
                <field id="switch_customer_groups" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Switch Customer Groups</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <field id="customer_groups" translate="label comment" type="multiselect" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Customer Groups</label>
                    <source_model>Magebees\CacheWarmer\Model\Config\Source\CustomerGroup</source_model>
                    <can_be_empty>1</can_be_empty>
                    <depends>
                        <field id="switch_customer_groups">1</field>
                    </depends>
                    <comment>"General" customer group is used by default even if nothing is selected</comment>
                </field>
                <field id="switch_stores" translate="label comment" type="select" sortOrder="50" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Switch Stores</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <field id="stores" translate="label comment" type="multiselect" sortOrder="60" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Stores</label>
                    <source_model>Magento\Config\Model\Config\Source\Store</source_model>
                    <can_be_empty>1</can_be_empty>
                    <depends>
                        <field id="switch_stores">1</field>
                    </depends>
                    <comment>Default store view is used by default even if nothing is selected</comment>
                </field>
                <field id="ignore_list" translate="label comment" type="textarea" sortOrder="70" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Exclude Pages</label>
                    <comment><![CDATA[Add the regular expressions to exclude pages from warm up<br/>\? - pages with GET param <br/>multiple params seperated by pipeline<br/>
Example: p=|price=]]></comment>
                    <frontend_model>Magebees\CacheWarmer\Block\Adminhtml\Form\Field\ExcludePages</frontend_model>
                    <backend_model>Magento\Config\Model\Config\Backend\Serialized\ArraySerialized</backend_model>
                </field>
                
            </group>
            <group id="connection" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>Connection Settings</label>
                <field id="http_auth" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Use HTTP Authentication</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <comment>Use when website is protected with .htaccess</comment>
                </field>
                <field id="login" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Login</label>
                    <depends>
                        <field id="http_auth">1</field>
                    </depends>
                </field>
                <field id="password" translate="label comment" type="password" sortOrder="30" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Password</label>
                    <depends>
                        <field id="http_auth">1</field>
                    </depends>
                </field>
                <field id="skip_verification" translate="label comment" type="select" sortOrder="40" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Disable Certificate Verification</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <comment>Enable this only if Cache warmer doesn't work for https</comment>
                </field>
            </group>
            <group id="debug" translate="label" type="text" sortOrder="60" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>Debug</label>
                <field id="show_status" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Show Cache Status</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <field id="ips" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Allowed IPs For Show Cache Status</label>
                    <depends>
                        <field id="show_status">1</field>
                    </depends>
                    <comment>Enter IP addresses comma separated</comment>
                </field>
            </group>
            
        </section>
    </system>
</config>
